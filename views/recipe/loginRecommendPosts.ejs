<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Combined Posts</title>
    <link rel="stylesheet" href="/css/recipe/styles.css">
    <link rel="stylesheet" href="/css/recipe/searchResult.css">
</head>
<body>
    <div id="container-box">

    <div id="side-bar">
        <div class="funding-icon"></div><!--side-bar width 안먹어서 임의로 넣어놓음-->
    </div>
     
    <div class="posts-section">
        <div class="view-posts-container">
        <h1>많이 본 게시글</h1> 
       
            <div id="searchResult" class="view-posts">
                <% if (viewPosts.length > 0) { %>
                    <div class="list-group">
                        <% viewPosts.slice(0, 3).forEach(post => { %>
                            <div class="recipe-card">
                                <% if (post.images && post.images.length > 0) { %>
                                    <img src="<%= post.images[0].imageUrl %>" alt="postImage" class="recipe-image">
                                <% } %>
                                <div class="btn-position">
                                <h2><%= post.title %></h2>
                                <p>주재료: <%= post.ingredients %></p>
                            </div>
                        <% }); %>
                    </div>
                <% } else { %>
                    <p>No posts available for this category.</p>
                <% } %>
            </div>
        </div>
        
        <div class="recommend-posts-container">
        <h1>추천 게시글</h1> 
        
            <div id="searchResult" class="recommend-posts">
                <% if (recommendPosts.length > 0) { %>
                    <div class="list-group">
                        <% recommendPosts.slice(0, 9).forEach(post => { %>
                            <div class="recipe-card">
                                <% if (post.images && post.images.length > 0) { %>
                                    <img src="<%= post.images[0].imageUrl %>" alt="postImage" class="recipe-image">
                                <% } %>
                                <h2><%= post.title %></h2>
                                <button
                                    class="bookmark-button <%= savedPostIds.includes(post.postId) ? 'bookmark-saved' : 'bookmark-not-saved' %>" 
                                    id="btn-<%= post.postId %>" 
                                    onclick="saveBookmark('<%= post.postId %>');">
                                </button>
                                <p>주재료: <%= post.ingredients %></p>
                            </div>
                        <% }); %>
                    </div>
                <% } else { %>
                    <p>No posts available for this category.</p>
                <% } %>
            </div>
        </div>
    </div>
</body>
</html>