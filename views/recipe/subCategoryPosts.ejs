<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><%= category %> - <%= subcategory %> Posts</title>
    <link rel="stylesheet" href="/css/recipe/styles.css">
</head>

<body>
    <h1><%= category %> posts</h1>
    
    <%- include('subCategoryBar', { category: category }); %>

    <div class="gallery">
        <% if(posts.length > 0) { %>
            <% posts.forEach(post => { %>
                <div class="recipe-card">
                    <% if (post.images && post.images.length > 0) { %>
                        <% const firstImage = post.images[0]; %>
                        <img src="<%= firstImage.imageUrl %>" alt="postImage" class="recipe-image">
                    <% } %>  
                    <h2><%= post.title %></h2>
                    <p>주재료: <%= post.ingredients %></p>
                </div>
            <% }); %>
        <% } else { %>
            <p>No posts available for this category.</p>
        <% } %>
    </div>

    <footer>
        <p>View other categories or subcategories through navigation.</p>
    </footer>
</body>
</html>